start:
  - type: function
    func: entry_conversation
  - type: function
    func: default_data
  - type: sticker
    id: 'CAACAgIAAxkBAAIPCWFlYP0m7Qmrt50cDv5_pbH_nfV3AAIbEwACBfGpSkKoz6rqioSCIQQ'
  - type: function
    func: default_name
  - type: message
    parse_mode: MarkdownV2
    text: |
          Hi, ich bin Ronni der Reiher! Ich fÃ¼hre dich heute durch Golm.
          MÃ¶chtest du den Rundgang auf *Englisch* oder auf *Deutsch* machen?
  - type: message
    parse_mode: MarkdownV2
    text: |
          _Hi, I'm Ronni the heron! I will be your guide today._
          _Do you want to take the tour in *German* or *English*?_
    ReplyKeyboardMarkup:
      - text: "Auf Deutsch ğŸ¥¨"
      - text: "In English ğŸ’‚â€â™€ï¸"
  - type: return
    state: START

sprache_tipp:
  - type: message
    text: Diese Sprache kenne ich nicht. Tippe *Deutsch* oder *English*!

name:
  - type: message
    text: SchÃ¶n, dass du da bist!
  - type: message
    text: Darf ich dich {name} nennen?
    ReplyKeyboardMarkup:
        - text: "Ja, gerne! ğŸ˜"
        - text: "Nein, nenn mich lieber anders! ğŸ‘»"
  - type: return
    state: NAME

en_name:
  - type: message
    text: Nice to meet you!
  - type: message
    text: May I call you {name}?
    ReplyKeyboardMarkup:
        - text: "Sure ğŸ˜"
        - text: "No, better another way! ğŸ‘»"
  - type: return
    state: EN_NAME

name_frage:
  - type: message
    text: 'Wie darf ich dich nennen?'
  - type: return
    state: NAME_AENDERN

en_name_frage:
  - type: message
    text: "What's your name?"
  - type: return
    state: EN_NAME_AENDERN
  
name_tipp:
  - type: message
    text: 'Das habe ich nicht verstanden ğŸ˜– Du kannst mit /Ja oder /Nein antworten.'
    ReplyKeyboardMarkup:
        - text: "Ja, gerne! ğŸ˜"
        - text: "Nein, nenn mich lieber anders! ğŸ‘»"

en_name_tipp:
  - type: message
    text: 'I did not understand you! ğŸ˜– Just type /yes  or /no .'
    ReplyKeyboardMarkup:
        - text: "Sure ğŸ˜"
        - text: "No, better another way! ğŸ‘»"

name_aendern:
  - type: function
    func: change_name
  - type: message
    text: 'Ich nenne dich {name}, okay?'
    ReplyKeyboardMarkup:
        - text: "Das klingt besser ğŸ˜Š"
        - text: "Ups, verschrieben ğŸ™ˆ"
  - type: return
    state: NAME

en_name_aendern:
  - type: function
    func: change_name
  - type: message
    text: 'I call you {name}, ok?'
    ReplyKeyboardMarkup:
        - text: "Sounds better ğŸ˜Š"
        - text: "Ups, not quite right ğŸ™ˆ"
  - type: return
    state: EN_NAME

name_aendern_tipp:
  - type: message
    text: 'Das habe ich nicht verstanden :/ Du kannst einfach deinen Namen eingeben.'

en_name_aendern_tipp:
  - type: message
    text: 'I did not understand you! ğŸ˜– Just type your name.'

datenschutz:
  - type: message
    text: 'Cool, dass du da bist, {name}'
  - type: message
    text: Um unsere StadteilfÃ¼hrung weiter zu verbessern wÃ¼rden wir gerne ein paar Daten von dir sammeln.
  - type: message
    parse_mode: MarkdownV2
    text: Ist das ok fÃ¼r dich? Mehr Infos [hier](www.reiherbot.de/datenschutz)
    disable_web_page_preview: True
    ReplyKeyboardMarkup:
        - text: "Ja, klar ğŸŒ»"
        - text: "Lieber nicht âš”ï¸"
  - type: return
    state: DATENSCHUTZ

en_datenschutz:
  - type: message
    text: 'Cool, dass du da bist, {name}'
  - type: message
    text: To improve the guide we would like to collect some user data.
  - type: message
    parse_mode: MarkdownV2
    text: Are you ok with that? More information [here](www.reiherbot.de/datenschutz)
    disable_web_page_preview: False
    ReplyKeyboardMarkup:
        - text: "Yes, sure ğŸŒ»"
        - text: "No wayâš”ï¸"
  - type: return
    state: EN_DATENSCHUTZ

datenschutz_tipp:
  - type: message
    text: 'Das habe ich nicht verstanden :/ Du kannst mit /Ja oder /Nein antworten.'
    ReplyKeyboardMarkup:
        - text: "Ja, klar ğŸŒ»"
        - text: "Lieber nicht âš”ï¸"

en_datenschutz_tipp:
  - type: message
    text: 'I did not understand you! ğŸ˜– Just type /yes  or /no .'
    ReplyKeyboardMarkup:
        - text: "Yes, sure ğŸŒ»"
        - text: "No wayâš”ï¸"

datenschutz_ablehnen:
  - type: message
    text: >
          Leider ist der Rundgang ohne deine Einweillung zur DatenschutzerklÃ¤rung nicht mÃ¶glich.
          Du kannst dich jederzeit mit /zustimmen umentscheiden - wir passen auch gut auf deine Daten auf.
    ReplyKeyboardMarkup:
        - text: Ich stimme der DatenschutzerklÃ¤rung zu ğŸŒ»

en_datenschutz_ablehnen:
  - type: message
    text: >
          Unfortunately, the tour is not possible without your consent to the privacy policy.
          You can change your mind at any time and type /accept - we also take good care of your data.
    ReplyKeyboardMarkup:
        - text: I agree to the privacy policy ğŸŒ»

startpunkt:
  - type: function
    func: change_data
  - type: message
    text: Super!
  - type: message
    text: Unsere Reise startet am Bahnhof Golm. Ich warte direkt vor dem orangen BahnhofsgebÃ¤ude auf dich. ğŸš‰
  - type: message
    text: Bist du auch schon dort?
    ReplyKeyboardMarkup:
        - text: "schon da âš“"
        - text: "noch auf dem Weg ğŸ˜±"
  - type: return
    state: STARTPUNKT

en_startpunkt:
  - type: function
    func: change_data
  - type: message
    text: Thank you!
  - type: message
    text: Our tour starts at the train station in Golm. I'm waiting for you directly infront of the orange building. ğŸš‰
  - type: message
    text: Are you already there?
    ReplyKeyboardMarkup:
        - text: "I'm there âš“"
        - text: "On my way ğŸ˜±"
  - type: return
    state: EN_STARTPUNKT

startpunkt_tipp:
  - type: message
    text: 'Das habe ich nicht verstanden :/ Du kannst mit /Ja oder /Nein antworten.'

en_startpunkt_tipp:
  - type: message
    text: 'I did not understand you! ğŸ˜– Just type /yes  or /no .'
    ReplyKeyboardMarkup:
        - text: "I'm there âš“"
        - text: "On my way ğŸ˜±"

weg_zum_bahnhof:
  - type: message
    text: Kein Problem, ich schicke dir einfach den Standort, von dem aus wir losgehen.
  - type: venue
    latitude: 52.4090401
    longitude: 12.9724552
    address: Bahnhof Golm
    title: Start der Rallye
  - type: message
    text: Tippe weiter, wenn du angekommen bist!
    InlineKeyboard:
      - text: "ğŸ¾ weiter"
        data: 'action:frage_bahnhof_gif'

en_weg_zum_bahnhof:
  - type: message
    text: No problem, this is where we begin.
  - type: venue
    latitude: 52.4090401
    longitude: 12.9724552
    address: Station Golm
    title: Start
  - type: message
    text: Click the button below, when you have arrived!
    InlineKeyboard:
      - text: "ğŸ¾ continue"
        data: 'action:en_frage_bahnhof_gif'

cancel:
  - type: message
    text: 'Bye! I hope we can talk again some day.'
  - type: function
    func: return_end
